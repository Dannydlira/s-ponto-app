#!/data/data/com.termux/files/usr/bin/bash#!/data/data/com.termux/files/usr/bin/bash

echo "üõë Tentando encerrar o VNC no display :1..." echo "üõë Tentando encerrar o VNC no display :1..."
# Tenta encerrar normalmente Tenta encerrar normalmentevncserver -kill :1 2>/dev/null
vncserver -kill :1 2>/dev/null
# Aguarda 2 segundos Aguarda 2 segundossleep 2
sleep 2
# Verifica se o processo ainda est√° ativo Verifica se o processo ainda est√° ativoPID=$(ps aux | grep Xtightvnc | grep -v grep | awk '{print $2}')
PID=$(ps aux | grep Xtightvnc | grep -v grep | awk '{print $2}') if [ -n "$PID" ]; then echo "‚ö†Ô∏è VNC ainda ativo. Finalizando processo (PID: $PID)..." kill -9 $PID echo "‚úÖ Processo 
    VNC encerrado √† for√ßa."
if [ -n "$PID" ]; thenelse echo "‚úÖ VNC encerrado com sucesso (ou j√° estava parado)." echo "‚ö†Ô∏è VNC ainda ativo. Finalizando processo (PID: $PID)..."fi kill -9 $PID echo "‚úÖ Processo 
    VNC encerrado √† for√ßa."# Remove arquivos de controle travados
elserm -f ~/.vnc/*.pid ~/.vnc/*.log echo "‚úÖ VNC encerrado com sucesso (ou j√° estava parado)." fiecho "üßπ Limpeza conclu√≠da."

# Remove arquivos de controle travados
rm -f ~/.vnc/*.pid ~/.vnc/*.log echo "üßπ Limpeza conclu√≠da." chmod +x ~/downloads/s-ponto-termux/stop_vnc.sh ./stop_vnc.sh
